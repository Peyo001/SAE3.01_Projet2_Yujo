<!DOCTYPE html>
<html lang="fr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>{% block title %}{% endblock %}</title>

    <link href="../node_modules/bootstrap/dist/css/bootstrap.min.css" rel="stylesheet">
    
    <link href="../node_modules/datatables.net-bs5/css/dataTables.bootstrap5.min.css" rel="stylesheet">
    
    <link href="assets/css/theme.css" rel="stylesheet">
    
    <link rel="stylesheet" type="text/css" href="../node_modules/tarteaucitronjs/tarteaucitron.css">

    <script src="../node_modules/tarteaucitronjs/tarteaucitron.min.js"></script>

    <script type="text/javascript">
        tarteaucitron.init({
            "resourcePath": "assets/tarteaucitronjs/",

            "privacyUrl": "",
            "bodyPosition": "top",
            "hashtag": "#tarteaucitron",
            "cookieName": "tarteaucitron",
            "orientation": "middle",
            "groupServices": true,
            "showDetailsOnClick": true,
            "serviceDefaultState": "wait",
            "showAlertSmall": false,
            "cookieslist": false,
            "closePopup": true,
            "showIcon": true,
            "iconPosition": "TopRight",
            "adblocker": false,
            "DenyAllCta" : true,
            "AcceptAllCta" : true,
            "highPrivacy": true,
            "handleBrowserDNTRequest": false,
            "removeCredit": false,
            "moreInfoLink": true,
            "useExternalCss": false,
            "useExternalJs": false,
            "mandatory": true,
            "googleConsentMode": true,
            "partnersList": true
        });

        /* Configuration Google Analytics */
        {% if googleAnalyticsId is defined and googleAnalyticsId %}
            tarteaucitron.user.gtagUa = '{{ googleAnalyticsId }}';
            (tarteaucitron.job = tarteaucitron.job || []).push('gtag');
        {% endif %}
    </script>
</head>
<body>

<header>
    {% block header %}{% endblock %}
</header>

<main class="mb-5 pb-5">
    {% block content %}{% endblock %}
</main>

<footer class="bottom-nav fixed-bottom py-2" style="background: linear-gradient(135deg, #eb3f73 0%, #c12458 45%, #2c3696 100%);">
    <nav class="d-flex justify-content-around align-items-center">
        <a href="index.php?controleur=groupe&methode=lister"><img src="assets/icons/person_3_blanc.svg" style="width: 28px; height: 28px;" alt="Groupes"></a>
        <a href="index.php?controleur=utilisateur&methode=afficherProfil"><img src="assets/icons/person_blanc.svg" style="width: 28px; height: 28px;" alt="Profil"></a>
        <a href="index.php?controleur=accueil&methode=afficher"><img src="assets/icons/logo_yujo.png" style="width: 35px; height: 35px;" alt="Accueil"></a>
        <a href="index.php?controleur=boutique&methode=afficher"><img src="assets/icons/shop_blanc.svg" style="width: 28px; height: 28px;" alt="Boutique"></a>
        <a href="index.php?controleur=parametre&methode=afficherParametre"><img src="assets/icons/settings_blanc.svg" style="width: 28px; height: 28px;" alt="ParamÃ¨tres"></a>
    </nav>
</footer>

<script src="https://code.jquery.com/jquery-3.7.1.min.js"></script>

<script src="assets/js/bootstrap.bundle.min.js"></script>

<script src="assets/datatables/jquery.dataTables.min.js"></script>
<script src="assets/datatables/dataTables.bootstrap5.min.js"></script>

<script>
    (function () {
        const THEME_STORAGE_KEY = 'yujo-theme';

        const getPreferredTheme = () => {
            const storedTheme = localStorage.getItem(THEME_STORAGE_KEY);
            if (storedTheme === 'light' || storedTheme === 'dark') {
                return storedTheme;
            }

            return window.matchMedia('(prefers-color-scheme: dark)').matches ? 'dark' : 'light';
        };

        const applyTheme = (theme) => {
            document.documentElement.setAttribute('data-bs-theme', theme);
            localStorage.setItem(THEME_STORAGE_KEY, theme);
        };

        applyTheme(getPreferredTheme());

        document.addEventListener('click', function (event) {
            const toggleTrigger = event.target.closest('[data-theme-toggle]');

            if (!toggleTrigger) {
                return;
            }

            event.preventDefault();

            const currentTheme = document.documentElement.getAttribute('data-bs-theme') === 'dark' ? 'dark' : 'light';
            const nextTheme = currentTheme === 'light' ? 'dark' : 'light';

            applyTheme(nextTheme);
        });
    })();
</script>

{% block scripts %}{% endblock %}

</body>
</html>